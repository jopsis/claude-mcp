---
name: mcp-server-webcrawl
digest: æœå°‹å’Œæª¢ç´¢ç¶²çµ¡çˆ¬èŸ²å…§å®¹ã€‚é€£æ¥åˆ°å…·æœ‰é«˜ç´šéæ¿¾å’Œå…§å®¹æª¢ç´¢åŠŸèƒ½çš„çˆ¬èŸ²ã€‚
author: pragmar
repository: https://github.com/pragmar/mcp_server_webcrawl
homepage: https://pragmar.com/mcp-server-webcrawl/
capabilities:
  prompts: false
  resources: false
  tools: true
tags:
  - crawler
  - search
  - indexing
icon: https://pragmar.com/media/static/images/home/mcp-server-webcrawl.png
createTime: 2025-03-26
---

é€™æ˜¯ä¸€å€‹æä¾›ç¶²çµ¡çˆ¬èŸ²æœå°‹å’Œæª¢ç´¢åŠŸèƒ½çš„æ¨¡å‹ä¸Šä¸‹æ–‡å”è­°(MCP)æœå‹™å™¨ã€‚è©²æœå‹™å™¨å…è¨± MCP å®¢æˆ¶ç«¯ä½¿ç”¨é«˜ç´šéæ¿¾åŠŸèƒ½æœå°‹å’Œè¨ªå•å·²çˆ¬å–ç«™é»çš„ç¶²çµ¡å…§å®¹ã€‚

## åŠŸèƒ½

ğŸ” **å…¨æ–‡æœå°‹**ã€‚é€šéé—œéµè©ã€æ¨™ç±¤ã€CSS é¡ç­‰éæ¿¾ç¶²çµ¡å…§å®¹ã€‚

ğŸ”¬ **é«˜ç´šæœå°‹**ã€‚æŒ‰ç‹€æ…‹ã€å…§å®¹é¡å‹å’Œ/æˆ–ç«™é»é€²è¡Œæœå°‹ã€‚

ğŸ•¸ï¸ **å¤šçˆ¬èŸ²æ”¯æŒ**ã€‚æ”¯æŒè«¸å¦‚ WARCã€wgetã€InterroBotã€Katanaã€SiteOne ç­‰çˆ¬èŸ²ã€‚

âœ‚ï¸ **API ä¸Šä¸‹æ–‡å½¢æˆ**ã€‚æ¬„ä½é¸é …æ±ºå®š API è¿”å›çš„å…§å®¹ï¼Œåœ¨ LLM äº’å‹•ä¸­ä¿æŒä¸Šä¸‹æ–‡è¼•é‡ã€‚

## å®‰è£

éœ€è¦ Python 3.10 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚

### ä½¿ç”¨ pip å®‰è£

ä½¿ç”¨ pip å®‰è£åŒ…ï¼š

```bash
pip install mcp-server-webcrawl
```

## é…ç½®

é…ç½®å› çˆ¬èŸ²è€Œç•°ã€‚ä½ éœ€è¦å°‡--datasource ç¤ºä¾‹æ›¿æ›ç‚ºç›®æ¨™è·¯å¾‘ã€‚

### wget é…ç½®

```json
{
  "mcpServers": {
    "webcrawl": {
      "command": "mcp-server-webcrawl",
      "args": ["--crawler", "wget", "--datasrc", "/path/to/wget/archives/"]
    }
  }
}
```

**æ¸¬è©¦éçš„ wget å‘½ä»¤ï¼š**

```bash
# --adjust-extensionç”¨æ–¼æ–‡ä»¶æ“´å±•åï¼Œä¾‹å¦‚ï¼š*.html
wget --mirror https://example.com
wget --mirror https://example.com --adjust-extension
```

### WARC é…ç½®

```json
{
  "mcpServers": {
    "webcrawl": {
      "command": "mcp-server-webcrawl",
      "args": ["--crawler", "warc", "--datasrc", "/path/to/warc/archives/"]
    }
  }
}
```

**ç”¨æ–¼ WARC çš„æ¸¬è©¦éçš„ wget å‘½ä»¤ï¼š**

```bash
wget --warc-file=example --recursive https://example.com
wget --warc-file=example --recursive --page-requisites https://example.com
```

### InterroBot é…ç½®

```json
{
  "mcpServers": {
    "webcrawl": {
      "command": "mcp-server-webcrawl",
      "args": [
        "--crawler",
        "interrobot",
        "--datasrc",
        "/home/user/Documents/InterroBot/interrobot.v2.db"
      ]
    }
  }
}
```

**æ³¨æ„ï¼š**

- çˆ¬èŸ²å¿…é ˆåœ¨ InterroBot å…§éƒ¨é‹è¡Œï¼ˆçª—å£æ¨¡å¼ï¼‰
- macOS/Windowsï¼š--datasource è·¯å¾‘åœ¨ InterroBot é¸é …é é¢ä¸­æä¾›

### Katana é…ç½®

```json
{
  "mcpServers": {
    "webcrawl": {
      "command": "mcp-server-webcrawl",
      "args": ["--crawler", "katana", "--datasrc", "/path/to/katana/crawls/"]
    }
  }
}
```

**æ¸¬è©¦éçš„ Katana å‘½ä»¤ï¼š**

```bash
# -store-responseç”¨æ–¼å­˜å„²çˆ¬å–å…§å®¹
# -store-response-dirå…è¨±åœ¨å–®å€‹ç›®éŒ„ä¸­çˆ¬å–å¤šå€‹ç«™é»
katana -u https://example.com -store-response -store-response-dir crawls/
```

### SiteOne é…ç½®

```json
{
  "mcpServers": {
    "webcrawl": {
      "command": "mcp-server-webcrawl",
      "args": [
        "--crawler",
        "siteone",
        "--datasrc",
        "/path/to/siteone/archives/"
      ]
    }
  }
}
```

**æ³¨æ„ï¼š**

- çˆ¬èŸ²å¿…é ˆåœ¨ SiteOne å…§éƒ¨é‹è¡Œï¼ˆçª—å£æ¨¡å¼ï¼‰
- å¿…é ˆé¸æ“‡"Generate offline website"é¸é …

## å¯ç”¨å·¥å…·

### `webcrawl_sites`

ç²å–ç«™é»åˆ—è¡¨ï¼ˆé …ç›®ç«™é»æˆ–çˆ¬å–ç›®éŒ„ï¼‰ã€‚

**å¯é¸åƒæ•¸**

- `fields`ï¼ˆå­—ç¬¦ä¸²æ•¸çµ„ï¼Œå¯é¸ï¼‰ï¼šé™¤äº†åŸºæœ¬æ¬„ä½ï¼ˆidã€urlï¼‰å¤–ï¼Œè¦åŒ…å«åœ¨éŸ¿æ‡‰ä¸­çš„é™„åŠ æ¬„ä½ã€‚é¸é …åŒ…æ‹¬ï¼š
- `ids`ï¼ˆæ•´æ•¸æ•¸çµ„ï¼Œå¯é¸ï¼‰ï¼šæŒ‰é …ç›® ID éæ¿¾çš„åˆ—è¡¨ã€‚ç‚ºç©ºè¡¨ç¤ºæ‰€æœ‰é …ç›®ã€‚

**å¯é¸æ¬„ä½**

- `modified` æœ€å¾Œä¿®æ”¹çš„ ISO 8601 æ™‚é–“æˆ³
- `created` å‰µå»ºçš„ ISO 8601 æ™‚é–“æˆ³
- `robots` Robots.txt ä¿¡æ¯ï¼ˆæœ‰é™æ”¯æŒï¼‰

**ä½¿ç”¨ç¤ºä¾‹**

åˆ—å‡ºæ‰€æœ‰çˆ¬å–çš„ç«™é»ï¼š"ä½ èƒ½åˆ—å‡ºç¶²çµ¡çˆ¬èŸ²å—ï¼Ÿ"

ç²å–ç‰¹å®šç«™é»çš„åŸºæœ¬çˆ¬å–ä¿¡æ¯ï¼š"ä½ èƒ½ç²å– example.com çš„ç¶²çµ¡çˆ¬èŸ²ä¿¡æ¯å—ï¼Ÿ"

### `webcrawl_search`

æœå°‹é …ç›®ç¯„åœå…§çš„è³‡æºï¼ˆç¶²é ã€CSSã€PDF ç­‰ï¼‰ä¸¦æª¢ç´¢æŒ‡å®šæ¬„ä½ã€‚

**å¯é¸åƒæ•¸ï¼š**

- `query`ï¼ˆå­—ç¬¦ä¸²ï¼Œå¯é¸ï¼‰ï¼šå…¨æ–‡æœå°‹æŸ¥è©¢å­—ç¬¦ä¸²ã€‚æ”¯æŒå…¨æ–‡å’Œå¸ƒçˆ¾é‹ç®—ç¬¦ï¼Œèªæ³•åŒ¹é… SQLite FTS5 çš„å¸ƒçˆ¾æ¨¡å¼ï¼ˆAND, OR, NOT, å¼•è™ŸçŸ­èª, å¾Œç¶´é€šé…ç¬¦ï¼‰ã€‚
- `sites`ï¼ˆæ•´æ•¸æ•¸çµ„ï¼Œå¯é¸ï¼‰ï¼šé …ç›® ID åˆ—è¡¨ï¼Œç”¨æ–¼å°‡æœå°‹çµæœéæ¿¾åˆ°ç‰¹å®šç«™é»ã€‚
- `limit`ï¼ˆæ•´æ•¸ï¼Œå¯é¸ï¼‰ï¼šè¦è¿”å›çš„æœ€å¤§çµæœæ•¸ã€‚é»˜èªç‚º 20ï¼Œæœ€å¤§ç‚º 100ã€‚
- `offset`ï¼ˆæ•´æ•¸ï¼Œå¯é¸ï¼‰ï¼šç‚ºåˆ†é è€Œè·³éçš„çµæœæ•¸ã€‚é»˜èªç‚º 0ã€‚
- `sort`ï¼ˆå­—ç¬¦ä¸²ï¼Œå¯é¸ï¼‰ï¼šçµæœçš„æ’åºé †åºã€‚`+`å‰ç¶´è¡¨ç¤ºå‡åºï¼Œ`-`è¡¨ç¤ºé™åºã€‚
- `statuses`ï¼ˆæ•´æ•¸æ•¸çµ„ï¼Œå¯é¸ï¼‰ï¼šæŒ‰ HTTP ç‹€æ…‹ç¢¼éæ¿¾ï¼ˆä¾‹å¦‚[200]è¡¨ç¤ºæˆåŠŸéŸ¿æ‡‰ï¼Œ[404, 500]è¡¨ç¤ºéŒ¯èª¤ï¼‰ã€‚
- `types`ï¼ˆå­—ç¬¦ä¸²æ•¸çµ„ï¼Œå¯é¸ï¼‰ï¼šéæ¿¾åˆ°ç‰¹å®šè³‡æºé¡å‹ã€‚
- `thumbnails`ï¼ˆå¸ƒçˆ¾å€¼ï¼Œå¯é¸ï¼‰ï¼šå•Ÿç”¨åœ–åƒç¸®ç•¥åœ–çš„ base64 ç·¨ç¢¼æ•¸æ“šã€‚é»˜èªç‚º falseã€‚
- `fields`ï¼ˆå­—ç¬¦ä¸²æ•¸çµ„ï¼Œå¯é¸ï¼‰ï¼šé™¤äº†åŸºæœ¬æ¬„ä½ï¼ˆidã€URLã€statusï¼‰å¤–ï¼Œè¦åŒ…å«åœ¨éŸ¿æ‡‰ä¸­çš„é™„åŠ æ¬„ä½ã€‚ç©ºåˆ—è¡¨è¡¨ç¤ºåƒ…åŸºæœ¬æ¬„ä½ã€‚å…§å®¹æ¬„ä½å¯èƒ½æœƒå¾ˆå¤§ï¼Œæ‡‰è¬¹æ…èˆ‡ LIMIT ä¸€èµ·ä½¿ç”¨ï¼š
- `ids`ï¼ˆæ•´æ•¸æ•¸çµ„ï¼Œå¯é¸ï¼‰ï¼šé€šé ID ç›´æ¥æŸ¥æ‰¾ç‰¹å®šè³‡æºã€‚

**å¯é¸æ¬„ä½**

- `created`ï¼šå‰µå»ºçš„ ISO 8601 æ™‚é–“æˆ³
- `modified`ï¼šæœ€å¾Œä¿®æ”¹çš„ ISO 8601 æ™‚é–“æˆ³
- `content`ï¼šå¦‚æœæ˜¯ text/\*ï¼Œå‰‡ç‚ºè³‡æºçš„å¯¦éš›å…§å®¹ï¼ˆHTML/CSS/JS/ç´”æ–‡æœ¬ï¼‰
- `name`ï¼šè³‡æºåç¨±æˆ–æ¨™é¡Œä¿¡æ¯
- `size`ï¼šæ–‡ä»¶å¤§å°ä¿¡æ¯
- `time`ï¼šèˆ‡è³‡æºç›¸é—œçš„æ™‚é–“æŒ‡æ¨™ï¼ˆæ”¯æŒå› çˆ¬èŸ²é¡å‹è€Œç•°ï¼‰
- `headers`ï¼šèˆ‡è³‡æºé—œè¯çš„ HTTP é ­ï¼ˆæ”¯æŒå› çˆ¬èŸ²é¡å‹è€Œç•°ï¼‰

**æ’åºé¸é …**

- `+id`, `-id`ï¼šæŒ‰è³‡æº ID æ’åº
- `+url`, `-url`ï¼šæŒ‰è³‡æº URL æ’åº
- `+status`, `-status`ï¼šæŒ‰ HTTP ç‹€æ…‹ç¢¼æ’åº
- `?`ï¼šéš¨æ©Ÿæ’åºï¼ˆå°çµ±è¨ˆæŠ½æ¨£æœ‰ç”¨ï¼‰

**ä½¿ç”¨ç¤ºä¾‹ï¼š**

æœå°‹ç«™é»é—œéµè©ï¼š"ä½ èƒ½åœ¨ example.com çˆ¬èŸ²ä¸­æœå°‹é—œéµè©å—ï¼Ÿ"

æœå°‹å’Œéæ¿¾å…§å®¹æ‘˜è¦ï¼š"ä½ èƒ½åœ¨ç¶²çµ¡çˆ¬èŸ²ä¸­æœå°‹é—œéµè©ï¼Œæ”¶é›†ä¸¦ç¸½çµå…§å®¹å—ï¼Ÿ"

ç²å–åœ–åƒä¿¡æ¯ï¼š"ä½ èƒ½åˆ—å‡º example.com ç¶²çµ¡çˆ¬èŸ²ä¸­çš„åœ–ç‰‡å—ï¼Ÿ"

æŸ¥æ‰¾å¸¶æœ‰é—œéµè©çš„ 404 éŒ¯èª¤ï¼ˆWARC/Katana/InterroBotï¼‰ï¼š"ä½ èƒ½åœ¨ example.com çˆ¬èŸ²ä¸­æœå°‹ 404 éŒ¯èª¤å—ï¼Ÿ"

## è¨±å¯è­‰

æœ¬é …ç›®æ¡ç”¨ MPL 2.0 è¨±å¯è­‰ã€‚æœ‰é—œè©³ç´°ä¿¡æ¯ï¼Œè«‹åƒé–±å­˜å„²åº«ä¸­çš„ LICENSE æ–‡ä»¶ã€‚
